<section ng-controller="dashboardCtrl">
    <section class="panel panel-padding">

        <!-- Choose tab -->
        <div id="showSelectTab" style="margin-bottom: 15px">
            <label>Choose table</label>
            <select id="select_tab" onclick="
                if(document.getElementById('select_tab')){
                    console.log(document.getElementById('select_tab').selectedIndex);

                    document.getElementById('boxTopApi').setAttribute('style','display: none');
                    document.getElementById('boxTopApplications').setAttribute('style','display: none');
                    document.getElementById('boxTopFailedAPIs').setAttribute('style','display: none');
                    document.getElementById('boxTopSlowAPIs').setAttribute('style','display: none');
                    document.getElementById('boxTopOverheadAPIs').setAttribute('style','display: none');
                    document.getElementById('boxAPIEvents').setAttribute('style','display: none');

                    switch (document.getElementById('select_tab').selectedIndex) {
                        case 0: document.getElementById('boxTopApi').setAttribute('style','display: inline'); break;
                        case 1: document.getElementById('boxTopApplications').setAttribute('style','display: inline'); break;
                        case 2: document.getElementById('boxTopFailedAPIs').setAttribute('style','display: inline'); break;
                        case 3: document.getElementById('boxTopSlowAPIs').setAttribute('style','display: inline'); break;
                        case 4: document.getElementById('boxTopOverheadAPIs').setAttribute('style','display: inline'); break;
                        case 5: document.getElementById('boxAPIEvents').setAttribute('style','display: inline'); break;
                    }
                }" class="browser-default">
                <option>Top APIs</option>
                <option>Top applications</option>
                <option>Top failed APIs</option>
                <option>Top slow APIs</option>
                <option>Top overhead APIs</option>
                <option>API events</option>
            </select>
        </div>

        <!-- timeframe -->
        <!--<div class="row">
                <div class="col s12 m6">
                    <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                            <span class="card-title">Card Title</span>
                            <p>I am a very simple card. I am good at containing small bits of information.
                                I am convenient because I require little markup to use effectively.</p>
                        </div>
                        <div class="card-action">
                            <a href="#">This is a link</a>
                            <a href="#">This is a link</a>
                        </div>
                    </div>
                </div>
            </div> -->

        <!-- topAPI -->
        <div id="boxTopApi" style="display: inline" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">Top APIs</span>

                        <!-- No undefined -->
                        <table class="striped" ng-if="showTopAPIs === 'true'">
                            <tr>
                                <th>API</th>
                                <th>Hits</th>
                            </tr>
                            <tr ng-repeat="a in apis">
                                <td>{{a.values}}</td>
                                <td>{{a.metadata}}</td>
                            </tr>
                        </table>

                        <!-- No result -->
                        <table class="striped" ng-if="showTopAPIs === 'false'">
                            <tr>
                                <th>API</th>
                                <th>Hits</th>
                            </tr>
                            <tr>
                                <td>No result</td>
                                <td></td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <!-- topApplications -->
        <div id="boxTopApplications" style="display: none" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">Top applications</span>

                        <!-- No undefined -->
                        <table class="striped" ng-if="showTopApplication === 'true'">
                            <tr>
                                <th>Application</th>
                                <th>Hits</th>
                            </tr>
                            <tr ng-repeat="appli in application">
                                <td>{{appli.values}}</td>
                                <td>{{appli.metadata}}</td>
                            </tr>
                        </table>

                        <!-- No result -->
                        <table class="striped" ng-if="showTopApplication === 'false'">
                            <tr>
                                <th>Application</th>
                                <th>Hits</th>
                            </tr>
                            <tr>
                                <td>No result</td>
                                <td></td>
                            </tr>
                        </table>


                    </div>
                </div>
            </div>
        </div>

        <!-- topFailedAPIs -->
        <div id="boxTopFailedAPIs" style="display: none" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">Top failed APIs</span>

                        <!-- No undefined -->
                        <table class="striped" ng-if="showTopFailed === 'true'">
                            <tr>
                                <th>Application</th>
                                <th>Hits</th>
                            </tr>
                            <tr ng-repeat="failed in topFailed">
                                <td>{{failed.values}}</td>
                                <td>{{failed.metadata}}</td>
                            </tr>
                        </table>

                        <!-- No result -->
                        <table class="striped" ng-if="showTopFailed === 'false'">
                            <tr>
                                <th>Application</th>
                                <th>Hits</th>
                            </tr>
                            <tr>
                                <td>No result</td>
                                <td></td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <!-- topSlowAPIs -->
        <div id="boxTopSlowAPIs" style="display: none" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">Top slow APIs</span>

                        <!-- No undefined -->
                        <table class="striped" ng-if="showSlowAPIs === 'true'">
                            <tr>
                                <th>APIs</th>
                                <th>Latency (in ms)</th>
                            </tr>
                            <tr ng-repeat="slow in slowAPIs">
                                <td>{{slow.values}}</td>
                                <td>{{slow.metadata}}</td>
                            </tr>
                        </table>

                        <!-- No result -->
                        <table class="striped" ng-if="showSlowAPIs === 'false'">
                            <tr>
                                <th>APIs</th>
                                <th>Latency (in ms)</th>
                            </tr>
                            <tr>
                                <td>No result</td>
                                <td></td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <!-- topOverheadAPIs -->
        <div id="boxTopOverheadAPIs" style="display: none" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">Top overhead APIs</span>

                        <!-- No undefined -->
                        <table class="striped" ng-if="showTopOverhead === 'true'">
                            <tr>
                                <th>APIs</th>
                                <th>Latency (in ms)</th>
                            </tr>
                            <tr ng-repeat="o in overhead">
                                <td>{{o.values}}</td>
                                <td>{{o.metadata}}</td>
                            </tr>
                        </table>

                        <!-- No result -->
                        <table class="striped" ng-if="showTopOverhead === 'false'">
                            <tr>
                                <th>APIs</th>
                                <th>Latency (in ms)</th>
                            </tr>
                            <tr>
                                <td>No result</td>
                                <td></td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>
        </div>

        <!-- APIEvents --> <!-- not finish -->
        <div id="boxAPIEvents" style="display: none" class="row">
            <div class="col s12 m12">
                <div class="card">
                    <div class="card-content black-text">
                        <span class="card-title">API Events</span>

                        <form style="text-align: center" ng-submit="selectPage()">
                            <select style="width: 50px; display: inline-block" id="selectPage" class="browser-default">
                                <!-- page number here -->
                            </select>
                            <button style="display: inline-block" class="btn waves-effect waves-light"
                                    type="submit"
                                    name="action">
                                Submit
                            </button>
                        </form>
                        <table class="striped">
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>API</th>
                            </tr>
                            <tr ng-repeat="e in event">
                                <td>{{e.updated_at}}</td>
                                <td ng-if="e.type === 'start_api'">Start</td>
                                <td ng-if="e.type === 'publish_api'">Deploy</td>
                                <td>{{e.properties["api_name"]}} ({{e.properties["api_version"]}})</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </section>
</section>